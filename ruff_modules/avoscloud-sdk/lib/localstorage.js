"use strict";var _=require("underscore"),Promise=require("./promise"),localStorage=require("./browserify-wrapper/localStorage"),syncApiNames=["getItem","setItem","removeItem","clear"];localStorage.async?_(syncApiNames).each(function(e){"function"!=typeof localStorage[e]&&(localStorage[e]=function(){throw new Error("Synchronous API ["+e+"] is not available in this runtime.")})}):_(syncApiNames).each(function(e){"function"==typeof localStorage[e]&&(localStorage[e+"Async"]=function(){return Promise.as(localStorage[e].apply(localStorage,arguments))})}),module.exports=localStorage;